<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hey Gringa - Plano de Ação</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header>
    <h1>Hey Gringa - Plano de Ação</h1>
  </header>

  <main>
    <section id="trilhas">
      <h2>Minhas Trilhas</h2>
      <div class="cards-trilhas">
        <div class="card" onclick="mostrarNiveis('gestao')">Gestão de Sala de Aula</div>
        <div class="card">Habilidades Pedagógicas</div>
        <div class="card">Habilidades Culturais e Interculturais</div>
      </div>
    </section>

    <section id="niveis" style="display: none">
      <h2>Escolha o Nível</h2>
      <div class="botoes-niveis">
        <button onclick="mostrarDiagnostico('basico')">Básico</button>
        <button disabled>Intermediário</button>
        <button disabled>Avançado</button>
      </div>
    </section>

    <section id="planoAcao" style="display: none">
      <h2>Diagnóstico</h2>
      <h3>Reflexão sobre a prática</h3>
      <p>Avalie cada item de 1 a 5:<br>1️⃣ - Nunca | 2️⃣ - Raramente | 3️⃣ - Às vezes | 4️⃣ - Frequentemente | 5️⃣ - Sempre</p>

      <div id="diagnosticoContainer"></div>

      <button onclick="gerarPlanoAcao()">Gerar Plano de Ação</button>

      <div id="resultadoPlano" style="display: none">
        <h2>Plano de Ação</h2>
        <table>
          <thead>
            <tr><th>Ponto</th><th>Problema</th><th>Estratégia</th><th>Prazo</th></tr>
          </thead>
          <tbody id="tabelaPlano"></tbody>
        </table>
      </div>
    </section>
  </main>

  <script>
    const perguntas = [
      {
        bloco: "1. Estabelecendo regras e rotinas",
        itens: [
          "Eu comunico expectativas de forma clara...",
          "Eu utilizo linguagem positiva para regras...",
          "Eu aplico estratégias para manter a atenção...",
          "Eu monitoro e dou feedback...",
          "Eu reviso e ajusto regras periodicamente..."
        ]
      },
      {
        bloco: "2. Engajamento",
        itens: [
          "Implemento estratégias interativas...",
          "Crio ambiente acolhedor...",
          "Adapto aulas aos interesses dos alunos...",
          "Normalizo os erros como parte do processo...",
          "Estimulo interação entre alunos..."
        ]
      },
      {
        bloco: "3. Resolução de conflitos iniciais",
        itens: [
          "Identifico fatores que geram conflitos...",
          "Utilizo comunicação assertiva...",
          "Uso sinais não verbais...",
          "Adapto planejamento às necessidades...",
          "Reflito sobre o impacto da gestão..."
        ]
      }
    ];

    function mostrarNiveis() {
      document.getElementById('niveis').style.display = 'block';
    }

    function mostrarDiagnostico(nivel) {
      document.getElementById('trilhas').style.display = 'none';
      document.getElementById('niveis').style.display = 'none';
      document.getElementById('planoAcao').style.display = 'block';

      const container = document.getElementById('diagnosticoContainer');
      container.innerHTML = '';

      perguntas.forEach((bloco, i) => {
        const blocoDiv = document.createElement('div');
        blocoDiv.classList.add('bloco-diagnostico');

        const h4 = document.createElement('h4');
        h4.textContent = bloco.bloco;
        blocoDiv.appendChild(h4);

        bloco.itens.forEach((texto, j) => {
          const label = document.createElement('label');
          label.innerHTML = `
            ${texto}
            <select name="resposta" data-ponto="${texto}">
              <option value="">Escolha</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          `;
          blocoDiv.appendChild(label);
        });

        container.appendChild(blocoDiv);
      });
    }

    function gerarPlanoAcao() {
      const respostas = document.querySelectorAll('select[name="resposta"]');
      const tabela = document.getElementById('tabelaPlano');
      tabela.innerHTML = '';

      respostas.forEach(select => {
        const valor = parseInt(select.value);
        const texto = select.dataset.ponto;
        if (valor && valor <= 3) {
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td>${texto}</td>
            <td>
              <select>
                <option>Os alunos não compreendem claramente as expectativas.</option>
                <option>Falta de constância na aplicação das rotinas.</option>
                <option>Ambiente desorganizado e sem regras definidas.</option>
                <option>Outro (descreva abaixo)</option>
              </select>
              <input type="text" placeholder="Descreva seu problema" />
            </td>
            <td><textarea placeholder="Sugestões aparecerão aqui ou insira sua estratégia..."></textarea></td>
            <td><input type="date" /></td>
          `;
          tabela.appendChild(tr);
        }
      });

      document.getElementById('resultadoPlano').style.display = 'block';
    }
  </script>
</body>
</html>
